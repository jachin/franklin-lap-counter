{
  "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/0.14.2/.schema/devbox.schema.json",
  "packages": [
    "python@3.13.3",
    "python313Packages.pyserial@latest",
    "python313Packages.textual@latest",
    "redis@latest",
    "python313Packages.pip@latest",
    "python313Packages.platformdirs@latest",
    "python313Packages.typing-extensions@latest",
    "python313Packages.uc-micro-py@latest",
    "python313Packages.mdurl@latest",
    "basedpyright@latest",
    "pyright@latest",
    "python313Packages.redis@latest",
    "python313Packages.ruff@latest",
    "python313Packages.aiohttp@latest",
    "python313Packages.linkify-it-py@latest",
    "python313Packages.requests@latest",
    "python313Packages.markdown-it-py@latest",
    "python313Packages.mdit-py-plugins@latest",
    "python313Packages.pygments@latest",
    "python313Packages.rich@latest",
    "rustc@latest",
    "cargo@latest",
    "rust-analyzer@latest",
    "rustfmt@latest",
    "clippy@latest",
    "rustup@latest"
  ],
  "shell": {
    "init_hook": [
      ". $VENV_DIR/bin/activate",
      "redis-server --daemonize yes --unixsocket ./redis.sock --unixsocketperm 700"
    ],
    "scripts": {
      "hardware-monitor": ["python hardware_comm_redis.py"],
      "franklin":         ["python franklin.py"],
      "hw-sim":           ["python hardware_comm_redis.py --sim"],
      "web":              ["python web_server.py"],
      "rust-build":       ["cargo build --manifest-path rust/Cargo.toml"],
      "rust-build-release": [
        "cargo build --release --manifest-path rust/Cargo.toml"
      ],
      "rust-hw-sim": [
        "cargo run --manifest-path rust/Cargo.toml --bin hardware-comm -- --sim"
      ],
      "rust-hw": [
        "cargo run --manifest-path rust/Cargo.toml --bin hardware-comm"
      ],
      "rust-check": ["cargo check --manifest-path rust/Cargo.toml"],
      "rust-test":  ["cargo test --manifest-path rust/Cargo.toml"]
    }
  }
}

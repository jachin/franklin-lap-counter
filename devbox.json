{
  "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/0.14.2/.schema/devbox.schema.json",
  "packages": [
    "python@3.13.3",
    "python313Packages.textual@latest",
    "redis@latest",
    "python313Packages.pip@latest",
    "python313Packages.typing-extensions@latest",
    "basedpyright@latest",
    "pyright@latest",
    "python313Packages.redis@latest",
    "python313Packages.ruff@latest",
    "python313Packages.aiohttp@latest",
    "python313Packages.pygments@latest",
    "python313Packages.rich@latest",
    "rustup@latest",
    "pkg-config@latest"
  ],

  "shell": {
    "init_hook": [
      ". $VENV_DIR/bin/activate",
      "redis-server --daemonize yes --unixsocket ./redis.sock --unixsocketperm 700"
    ],
    "scripts": {
      "franklin": ["python franklin.py"],
      "lint-franklin": ["basedpyright franklin.py"],
      "web": ["python web_server.py"],
      "rust-build": ["cargo build --manifest-path rust/Cargo.toml"],
      "rust-build-pi-image": ["./scripts/build-rust-image.sh"],
      "rust-pi-build": ["./scripts/rust-pi-build.sh"],
      "rust-build-release": [
        "cargo build --release --manifest-path rust/Cargo.toml"
      ],
      "setup-pi": ["./scripts/setup-pi.sh"],
      "install-tmuxinator": ["./scripts/install-tmuxinator-pi.sh"],
      "deploy-pi": ["./scripts/deploy-to-pi.sh"],
      "rust-hw-sim": [
        "cargo run --manifest-path rust/Cargo.toml --bin franklin-hardware-monitor -- --sim"
      ],
      "rust-hw-sim-verbose": [
        "cargo run --manifest-path rust/Cargo.toml --bin franklin-hardware-monitor -- --sim --verbose"
      ],
      "rust-hw": [
        "cargo run --manifest-path rust/Cargo.toml --bin franklin-hardware-monitor"
      ],
      "rust-hw-verbose": [
        "cargo run --manifest-path rust/Cargo.toml --bin franklin-hardware-monitor -- --verbose"
      ],
      "rust-check": ["cargo check --manifest-path rust/Cargo.toml"],
      "rust-test": ["cargo test --manifest-path rust/Cargo.toml"]
    }
  }
}
